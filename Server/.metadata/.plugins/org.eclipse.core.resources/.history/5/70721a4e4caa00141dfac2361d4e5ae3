package evans.dave.AndrotagServer;

import java.io.*; 
import java.net.*; 
import java.util.ArrayList;

import evans.dave.AndrotagCommon.TCPMessage;
import evans.dave.duinotag.*;

class TCPClient {  
	public static void main(String argv[]) throws Exception {   
		String sentence;   
		String modifiedSentence;
		ArrayList<GameInfo> gameList = new ArrayList<>();
		BufferedReader inFromUser = new BufferedReader( new InputStreamReader(System.in));   
		Socket clientSocket = new Socket("localhost", 7000);   
		DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());   
		BufferedReader inFromServer = new BufferedReader(
				new InputStreamReader(clientSocket.getInputStream()));   
		while (true){
			sentence = inFromUser.readLine();   
			int code = (int) sentence.charAt(0) - (int)'0';
			sentence = sentence.substring(1);
			
			if (code == TCPMessage.STRING_MSG){
				outToServer.writeBytes(sentence + '\n'); 
			} else if (code == TCPMessage.GET_GAMES){
				outToServer.writeInt(TCPMessage.GET_GAMES);
				
			}
			  
			modifiedSentence = inFromServer.readLine();   
			System.out.println("FROM SERVER: " + modifiedSentence);   
		}
		//clientSocket.close();  
	} 
} 